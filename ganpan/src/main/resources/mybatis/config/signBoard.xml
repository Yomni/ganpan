<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper

PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"

"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- MyBatis에서 namespace는 필수적으로 명시해야 함 -->


 <mapper namespace="signBoard">
   
	<resultMap id="signBoardRM" type="signBoardVO">
		<result property="signBoardName" column="sign_board_name"/>
		<result property="bossMemberVO.nickName" column="boss_nickname"/>
		<result property="creationDate" column="creation_date"/>
	</resultMap>
	

 	<select id="findSignBoardListByTitle" resultMap="signBoardRM" parameterType="String">
 		SELECT sb.sign_board_name, m.nickname as boss_nickname
		FROM sign_board sb, member m
		WHERE sb.boss_nickname=m.nickname and sb.visibility = 0 and sb.sign_board_name=#{title}
 	</select>
 	
 	<insert id="createNewGanpan" parameterType="map">
 		insert into sign_board(sign_board_name,boss_nickname,visibility,creation_date) 
 		values(#{signBoardName},#{bossNickName},#{visibility},sysdate)
 	</insert>
 	
 	<select id="titleCheck" resultType="int" parameterType="map">
 		select count(*) from sign_board 
 		where sign_board_name=#{signBoardName} and boss_nickname=#{bossNickName}
 	</select>

</mapper>







