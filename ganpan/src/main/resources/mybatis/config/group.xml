<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper

PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"

"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- MyBatis에서 namespace는 필수적으로 명시해야 함 -->

 <mapper namespace="group">
   
   <resultMap id="organizationRM" type="organizationVO">
	   	<result property="workerNickName.nickName" column="worker_nickname"/>
   		<result property="signBoardVO.bossMemberVO.nickName" column="boss_nickname"/>
   		<result property="signBoardVO.signBoardName" column="sign_board_name"/>
   </resultMap>
   
   <select id="getGroupList" resultMap="organizationRM" parameterType="signBoardVO">
   		select boss_nickname, worker_nickname,sign_board_name
		from organization
		where sign_board_name=#{signBoardName} and boss_nickname=#{bossMemberVO.nickName}
   </select>
   
   <select id="getNickNameByEmail" resultType="String">
   		SELECT nickName 
   		FROM member
   		WHERE e_mail=#{value}
   </select>
   
   <delete id="deleteWorker" parameterType="organizationVO">
   		delete from organization
		where worker_nickname=#{workerNickName.nickName}
   </delete>
   
   
   
   
</mapper>







